{% extends 'base_banner.html' %}
{% block headers_scripts_after_sqs %}
<script src="//ajax.googleapis.com/ajax/libs/jquery/1/jquery.min.js"></script>
<script src="//ajax.googleapis.com/ajax/libs/jqueryui/1/jquery-ui.min.js"></script>
<script src="//www.parsecdn.com/js/parse-1.2.2.min.js"></script>
<link rel=stylesheet type=text/css href="{{ url_for('static', filename='ribbon.css') }}">
<link rel=stylesheet type=text/css href="{{ url_for('static', filename='stars.css') }}">
<link rel=stylesheet type=text/css href="{{ url_for('static', filename='main.css') }}">
<link rel=stylesheet type=text/css href="{{ url_for('static', filename='css/popup.css') }}">
<script src="{{ url_for('static', filename='js/stars.js') }}" type="text/javascript"></script>

<script src="//load.sumome.com/"
            data-sumo-site-id="9621457a2948b53f5b14363c4b54a4dab0389c02f411d5b67ee4d772c5b13650" async="async"></script>

{% endblock %}

{% block promoted_photo %}
<div id="promotedGalleryWrapper" class="sqs-layout promoted-gallery-wrapper">
    <div class="row">
        <div class="col"></div>
    </div>
</div>

<div class="banner-thumbnail-wrapper has-description" data-content-field="main-image"
     data-collection-id="569d7899b20943556a9928a2" data-edit-main-image="Banner"
     data-annotation-alignment="bottom left">

    <div class="color-overlay"></div>
    <figure id="thumbnail" class="loading content-fill"><img
            data-src="{{ region.image }}"
            data-image="{{ region.image }}" data-image-dimensions="1134x752"
            data-image-focal-point="0.5,0.5"/></figure>

    <div class="desc-wrapper" data-collection-id="569d7899b20943556a9928a2"><p><strong>{{ region.name }}</strong></p></div>
</div>
{% endblock %}

{% block main %}
<main id="page" role="main">

    <!-- comment the linebreak between these two elements because science
    --><!-- comment the linebreak between these two elements because science
    --><!-- comment the linebreak between these two elements because science
    -->
    <div id="content" class="main-content" data-content-field="main-content"
         data-collection-id="569d5c7c5a5668a5945745a4" data-edit-main-image="Banner">
        <div class="sqs-layout sqs-grid-12 columns-12" data-type="page" data-updated-on="1453243512088"
     id="page-569d5c7c5a5668a5945745a4">
            <div class="row sqs-row">
                <div class="col sqs-col-12 span-12">
                    <div class="sqs-block code-block sqs-block-code" data-block-type="23"
                         id="block-yui_3_17_2_3_1453240859384_11159">
                        <div class="sqs-block-content">
                            <div id="nameYourOwnDiv">
                            </div>
                        </div>
                    </div>
                    <div class="sqs-block html-block sqs-block-html" data-block-type="2"
                         id="block-yui_3_17_2_12_1453158231643_10111">
                        <div class="sqs-block-content"><h1 class="featured-homes text-align-center"><strong>{{ region.name }}</strong></h1>
                            <div class="row sqs-row">
                                <div class="col sqs-col-6 span-6">
                                    <div class="sqs-block image-block sqs-block-image" data-block-type="5"
                                         id="block-yui_3_17_2_3_1453153341560_28590">
                                        <div class="sqs-block-content">
                                            {% if listings|length > 0 %}
                                            {% for n in range(0,listings|length) %}
                                            {% if n % 2 == 0 %}
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="row sqs-row">
                                <div class="col sqs-col-6 span-6">
                                    <div class="sqs-block image-block sqs-block-image" data-block-type="5"
                                         id="block-yui_3_17_2_9_1453688675394_17616">
                                        <div class="sqs-block-content">
                                            {% include 'listing_item.html' %}
                                            {% else %}
                                        </div>
                                    </div>
                                </div>
                                <div class="col sqs-col-6 span-6">
                                    <div class="sqs-block image-block sqs-block-image" data-block-type="5"
                                         id="block-yui_3_17_2_9_1453688675394_15840">
                                        <div class="sqs-block-content">
                                            {% include 'listing_item.html' %}
                                            {% endif %}
                                            {% endfor %}
                                            {% endif %}
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div><!-- comment the linebreak between these two elements because science
            </
    -->

</main>

{% endblock %}

{% block content %}




{% endblock %}

{% block body_scripts_end %}

<script type="text/javascript">$(function () {
    $('span.stars').stars();
});
</script>

<script>
    // This example displays an address form, using the autocomplete feature
    // of the Google Places API to help users fill in the information.

    // This example requires the Places library. Include the libraries=places
    // parameter when you first load the API. For example:
    // <script src="https://maps.googleapis.com/maps/api/js?key=YOUR_API_KEY&libraries=places">
    var city, state;
    var placeSearch, autocomplete;
    var componentForm = {
//        street_number: 'short_name',
//        route: 'long_name',
        locality: 'long_name',
        administrative_area_level_1: 'short_name'
//        country: 'long_name',
//        postal_code: 'short_name'
    };

    function initAutocomplete() {
        // Create the autocomplete object, restricting the search to geographical
        // location types.
        autocomplete = new google.maps.places.Autocomplete(
                /** @type {!HTMLInputElement} */(document.getElementById('autocomplete')),
                {types: ['geocode']});

        // When the user selects an address from the dropdown, populate the address
        // fields in the form.
        autocomplete.addListener('place_changed', fillInAddress);
    }

    // [START region_fillform]
    function fillInAddress() {
        // Get the place details from the autocomplete object.
        var place = autocomplete.getPlace();


//  for (var component in componentForm) {
//    document.getElementById(component).value = '';
//    document.getElementById(component).disabled = false;
//  }
//
//  // Get each component of the address from the place details
//  // and fill the corresponding field on the form.

        for (var i = 0; i < place.address_components.length; i++) {
            var addressType = place.address_components[i].types[0];
            if (componentForm[addressType]) {
                console.log("addressType: " + addressType);
                if (addressType === "locality") {
                    city = place.address_components[i][componentForm[addressType]];
                } else {
                    state = place.address_components[i][componentForm[addressType]];
                }
                console.log("done");

            }
        }

        $('#city').val(city);
        $('#state').val(state);

//          document.getElementById(addressType).value = val;
    }
    // [END region_fillform]

    // [START region_geolocation]
    // Bias the autocomplete object to the user's geographical location,
    // as supplied by the browser's 'navigator.geolocation' object.
    function geolocate() {
        if (navigator.geolocation) {
            navigator.geolocation.getCurrentPosition(function (position) {
                var geolocation = {
                    lat: position.coords.latitude,
                    lng: position.coords.longitude
                };
                var circle = new google.maps.Circle({
                    center: geolocation,
                    radius: position.coords.accuracy
                });
                autocomplete.setBounds(circle.getBounds());
            });
        }
    }
    // [END region_geolocation]

</script>
<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAj8VI5R2K3d-uAS6lCadACj6PLe_sjUww&signed_in=true&libraries=places&callback=initAutocomplete"
        async defer></script>

<script type="text/javascript">
    $(document).ready(function(){
        $('#popup1').
    });
</script>
{% endblock %}